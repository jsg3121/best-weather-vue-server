"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.sunRiseFall = exports.livingInfomation = exports.threeHoursWeather = exports.getMaxMinTemperature = exports.getDailyWeather = void 0;

var _axios = _interopRequireDefault(require("axios"));

var _console = require("console");

var _dayjs = _interopRequireDefault(require("dayjs"));

var _common = require("../../../../common");

var _global = require("../../../../common/src/global");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

var getDailyWeather = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator(function* (data) {
    var BASE_TIME = (0, _common.defaultTime)();
    var BASE_DATE = (0, _common.defaultDate)();
    var nx = data.nx,
        ny = data.ny;
    var nowTemperatures = yield _axios.default.get("http://apis.data.go.kr/1360000/VilageFcstInfoService/getUltraSrtNcst?serviceKey=".concat(_global.KOREA_WEATHER_API_KEY, "&numOfRows=10&pageNo=1&dataType=json&base_date=").concat(BASE_DATE, "&base_time=").concat(BASE_TIME, "&nx=").concat(nx ? nx : 60, "&ny=").concat(ny ? ny : 127)).then(function (res) {
      var result = res.data.response.body.items.item;
      return result.filter(function (item) {
        return item.category === "T1H" || item.category === "REH" || item.category === "RN1" || item.category === "VEC" || item.category === "WSD";
      });
    });
    var newSky = yield _axios.default.get("http://apis.data.go.kr/1360000/VilageFcstInfoService/getUltraSrtFcst?serviceKey=".concat(_global.KOREA_WEATHER_API_KEY, "&numOfRows=50&pageNo=1&dataType=json&base_date=").concat(BASE_DATE, "&base_time=").concat(BASE_TIME, "&nx=").concat(nx ? nx : 60, "&ny=").concat(ny ? ny : 127)).then(function (res) {
      var result = res.data.response.body.items.item;
      return result.filter(function (item) {
        return item.category === "SKY";
      });
    });
    var minMax = yield _axios.default.get("http://apis.data.go.kr/1360000/VilageFcstInfoService/getVilageFcst?serviceKey=".concat(_global.KOREA_WEATHER_API_KEY, "&numOfRows=40&pageNo=1&dataType=json&base_date=").concat(BASE_DATE, "&base_time=0200&nx=").concat(nx ? nx : 60, "&ny=").concat(ny ? ny : 127)).then(function (res) {
      var result = res.data.response.body.items.item;
      return result.filter(function (item) {
        return item.category === "TMX" || item.category === "TMN";
      });
    });
    var currentWeather = {
      reh: nowTemperatures[0].obsrValue,
      rn1: nowTemperatures[1].obsrValue,
      t1h: nowTemperatures[2].obsrValue,
      vec: nowTemperatures[3].obsrValue,
      wsd: nowTemperatures[4].obsrValue,
      sky: newSky[0].fcstValue,
      tmn: minMax[0].fcstValue,
      tmx: minMax[1].fcstValue
    };
    return currentWeather;
  });

  return function getDailyWeather(_x) {
    return _ref.apply(this, arguments);
  };
}();

exports.getDailyWeather = getDailyWeather;

var getMaxMinTemperature = /*#__PURE__*/function () {
  var _ref2 = _asyncToGenerator(function* (data) {
    var WEEKLY_RES_DATE = (0, _common.checkWeeklyDate)();
    var nx = data.nx,
        ny = data.ny;
    var DATE = (0, _common.calcDate)();
    var weeklyRes = yield _axios.default.get("http://apis.data.go.kr/1360000/MidFcstInfoService/getMidTa?serviceKey=".concat(_global.KOREA_WEATHER_API_KEY, "&numOfRows=10&pageNo=&dataType=json&regId=11D20501&tmFc=").concat(WEEKLY_RES_DATE)).then(function (res) {
      return res.data.response.body.items.item[0];
    });
    var weeklyWeather = yield _axios.default.get("http://apis.data.go.kr/1360000/MidFcstInfoService/getMidLandFcst?serviceKey=".concat(_global.KOREA_WEATHER_API_KEY, "&numOfRows=100&pageNo=1&dataType=json&regId=11B00000&tmFc=").concat(WEEKLY_RES_DATE)).then(function (res) {
      return res.data.response.body.items.item[0];
    }); // 8시 이전일 때 전날 11시,
    // 8시 이후일 때 현재 11시\

    var tomorrowMinMax = yield _axios.default.get("http://apis.data.go.kr/1360000/VilageFcstInfoService/getVilageFcst?serviceKey=".concat(_global.KOREA_WEATHER_API_KEY, "&numOfRows=500&pageNo=1&dataType=json&base_date=").concat(DATE, "&base_time=0500&nx=").concat(nx ? nx : 60, "&ny=").concat(ny ? ny : 127)).then(function (res) {
      var temp = res.data.response.body.items.item.filter(function (item) {
        return item.fcstDate === (0, _dayjs.default)(DATE).add(1, "day").format("YYYYMMDD") && (item.category === "TMN" || item.category === "TMX") || item.fcstDate === (0, _dayjs.default)(DATE).add(2, "day").format("YYYYMMDD") && (item.category === "TMN" || item.category === "TMX");
      });
      var tmn = temp[0].fcstTime;
      var tmx = temp[1].fcstTime;
      var sky = res.data.response.body.items.item.filter(function (item) {
        return item.fcstDate === (0, _dayjs.default)(DATE).add(1, "day").format("YYYYMMDD") && (item.category === "SKY" || item.category === "PTY") && (item.fcstTime === tmn || item.fcstTime === tmx) || item.fcstDate === (0, _dayjs.default)(DATE).add(2, "day").format("YYYYMMDD") && (item.category === "SKY" || item.category === "PTY") && (item.fcstTime === tmn || item.fcstTime === tmx);
      });
      var data = {
        day1: {
          date: temp[0].fcstDate,
          tmnValue: temp[0].fcstValue,
          tmxValue: temp[1].fcstValue,
          tmnPty: sky[0].fcstValue,
          tmnSky: sky[1].fcstValue,
          tmxPty: sky[2].fcstValue,
          tmxSky: sky[3].fcstValue
        },
        day2: {
          date: temp[2].fcstDate,
          tmnValue: temp[2].fcstValue,
          tmxValue: temp[3].fcstValue,
          tmnPty: sky[4].fcstValue,
          tmnSky: sky[5].fcstValue,
          tmxPty: sky[6].fcstValue,
          tmxSky: sky[7].fcstValue
        }
      };
      (0, _console.table)(data);
      return data;
    });
    var weekOut = {
      day3: {
        min: weeklyRes.taMin3,
        max: weeklyRes.taMax3,
        rnstAm: weeklyWeather.rnSt3Am,
        rnstPm: weeklyWeather.rnSt3Pm,
        wfAm: weeklyWeather.wf3Am,
        wfPm: weeklyWeather.wf3Pm,
        dateNum: 3
      },
      day4: {
        min: weeklyRes.taMin4,
        max: weeklyRes.taMax4,
        rnstAm: weeklyWeather.rnSt4Am,
        rnstPm: weeklyWeather.rnSt4Pm,
        wfAm: weeklyWeather.wf4Am,
        wfPm: weeklyWeather.wf4Pm,
        dateNum: 4
      },
      day5: {
        min: weeklyRes.taMin5,
        max: weeklyRes.taMax5,
        rnstAm: weeklyWeather.rnSt5Am,
        rnstPm: weeklyWeather.rnSt5Pm,
        wfAm: weeklyWeather.wf5Am,
        wfPm: weeklyWeather.wf5Pm,
        dateNum: 5
      },
      day6: {
        min: weeklyRes.taMin6,
        max: weeklyRes.taMax6,
        rnstAm: weeklyWeather.rnSt6Am,
        rnstPm: weeklyWeather.rnSt6Pm,
        wfAm: weeklyWeather.wf6Am,
        wfPm: weeklyWeather.wf6Pm,
        dateNum: 6
      },
      day7: {
        min: weeklyRes.taMin7,
        max: weeklyRes.taMax7,
        rnstAm: weeklyWeather.rnSt7Am,
        rnstPm: weeklyWeather.rnSt7Pm,
        wfAm: weeklyWeather.wf7Am,
        wfPm: weeklyWeather.wf7Pm,
        dateNum: 7
      }
    };
    console.table(weekOut);
    return {
      tomorrowMinMax: tomorrowMinMax,
      weekOut: weekOut
    };
  });

  return function getMaxMinTemperature(_x2) {
    return _ref2.apply(this, arguments);
  };
}();

exports.getMaxMinTemperature = getMaxMinTemperature;

var threeHoursWeather = /*#__PURE__*/function () {
  var _ref3 = _asyncToGenerator(function* (data) {
    var nx = data.nx,
        ny = data.ny;
    var BASE_DATE = (0, _common.defaultDate)();
    var R06 = [];
    var S06 = [];
    var PTY = [];
    var SKY = [];
    var T3H = [];
    var time = (0, _common.changDateFormThreeHoursTime)();
    var res = yield _axios.default.get("http://apis.data.go.kr/1360000/VilageFcstInfoService/getVilageFcst?serviceKey=".concat(_global.KOREA_WEATHER_API_KEY, "&numOfRows=180&pageNo=1&dataType=json&base_date=").concat(BASE_DATE, "&base_time=").concat(time, "&nx=").concat(nx ? nx : 60, "&ny=").concat(ny ? ny : 127)).then(function (res) {
      return res.data.response.body.items.item;
    });
    res.map(function (item) {
      switch (item.category) {
        case "R06":
          {
            R06.push({
              date: item.fcstDate,
              time: item.fcstTime,
              value: item.fcstValue
            });
          }
          return;

        case "S06":
          {
            S06.push({
              date: item.fcstDate,
              time: item.fcstTime,
              value: item.fcstValue
            });
          }
          return;

        case "PTY":
          {
            PTY.push({
              date: item.fcstDate,
              time: item.fcstTime,
              value: item.fcstValue
            });
          }
          return;

        case "SKY":
          {
            SKY.push({
              date: item.fcstDate,
              time: item.fcstTime,
              value: item.fcstValue
            });
          }
          return;

        case "T3H":
          {
            T3H.push({
              date: item.fcstDate,
              time: item.fcstTime,
              value: item.fcstValue
            });
          }
          return;

        default:
          return;
      }
    });
    var out = {
      R06: R06,
      PTY: PTY,
      SKY: SKY,
      T3H: T3H,
      S06: S06
    };
    return out;
  });

  return function threeHoursWeather(_x3) {
    return _ref3.apply(this, arguments);
  };
}();

exports.threeHoursWeather = threeHoursWeather;

var livingInfomation = /*#__PURE__*/function () {
  var _ref4 = _asyncToGenerator(function* () {
    var BASE_DATE = (0, _common.defaultDate)();
    var BASE_TIME = (0, _common.defaultTime)();
    var area = "서울";
    var encoding = encodeURIComponent(area); // const requestDate = changDateFormMiniDust();

    var out = [];
    var res = yield _axios.default.get("http://apis.data.go.kr/B552584/ArpltnInforInqireSvc/getCtprvnRltmMesureDnsty?sidoName=".concat(encoding, "&pageNo=1&numOfRows=200&returnType=json&serviceKey=").concat(_global.KOREA_WEATHER_API_KEY, "&ver=1.3")).then(function (res) {
      console.log(res);
      return res.data.response.body.items;
    });
    res.map(function (list) {
      out.push({
        sidoName: list.sidoName,
        pm10Value: list.pm10Value,
        pm25Value: list.pm25Value,
        o3Value: list.o3Value
      });
    }); // const minidust = await axios.get(`http://apis.data.go.kr/B552584/ArpltnInforInqireSvc/getMinuDustWeekFrcstDspth?searchDate=${requestDate}&returnType=json&serviceKey=${APIKEY}&numOfRows=50&pageNo=1`).then((res) => {
    //   return res.data.response.body.items;
    // });
    // const minimumDust = formDataMiniDust(minidust);

    var uv = yield _axios.default.get("http://apis.data.go.kr/1360000/LivingWthrIdxService01/getUVIdx?serviceKey=".concat(_global.KOREA_WEATHER_API_KEY, "&dataType=json&areaNo=1100000000&time=").concat(BASE_DATE).concat(BASE_TIME.substr(0, 2))).then(function (res) {
      return res.data.response.body.items.item[0];
    });
    var uvValue = {
      date: uv.date,
      today: uv.today,
      tomorrow: uv.tomorrow,
      theDayAfterTomorrow: uv.theDayAfterTomorrow
    };
    return {
      out: out,
      uvValue: uvValue
    };
  });

  return function livingInfomation() {
    return _ref4.apply(this, arguments);
  };
}();

exports.livingInfomation = livingInfomation;

var sunRiseFall = /*#__PURE__*/function () {
  var _ref5 = _asyncToGenerator(function* () {
    var BASE_DATE = (0, _common.defaultDate)();
    var area = "서울";
    var encoding = encodeURIComponent(area);
    var res = yield _axios.default.get("http://apis.data.go.kr/B090041/openapi/service/RiseSetInfoService/getAreaRiseSetInfo?location=".concat(encoding, "&locdate=").concat(BASE_DATE, "&ServiceKey=").concat(_global.KOREA_WEATHER_API_KEY)).then(function (res) {
      return res.data.response.body.items.item;
    });
    var output = [];
    output.push({
      sunrise: res.sunrise,
      sunset: res.sunset,
      moonrise: res.moonset,
      moonset: res.moonrise
    });
    return output;
  });

  return function sunRiseFall() {
    return _ref5.apply(this, arguments);
  };
}();

exports.sunRiseFall = sunRiseFall;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9hcGkvc3JjL2tvcmVhV2VhdGhlci9zcmMva29yZWEud2VhdGhlci5hcGkudHMiXSwibmFtZXMiOlsiZ2V0RGFpbHlXZWF0aGVyIiwiZGF0YSIsIkJBU0VfVElNRSIsIkJBU0VfREFURSIsIm54IiwibnkiLCJub3dUZW1wZXJhdHVyZXMiLCJheGlvcyIsImdldCIsIktPUkVBX1dFQVRIRVJfQVBJX0tFWSIsInRoZW4iLCJyZXMiLCJyZXN1bHQiLCJyZXNwb25zZSIsImJvZHkiLCJpdGVtcyIsIml0ZW0iLCJmaWx0ZXIiLCJjYXRlZ29yeSIsIm5ld1NreSIsIm1pbk1heCIsImN1cnJlbnRXZWF0aGVyIiwicmVoIiwib2JzclZhbHVlIiwicm4xIiwidDFoIiwidmVjIiwid3NkIiwic2t5IiwiZmNzdFZhbHVlIiwidG1uIiwidG14IiwiZ2V0TWF4TWluVGVtcGVyYXR1cmUiLCJXRUVLTFlfUkVTX0RBVEUiLCJEQVRFIiwid2Vla2x5UmVzIiwid2Vla2x5V2VhdGhlciIsInRvbW9ycm93TWluTWF4IiwidGVtcCIsImZjc3REYXRlIiwiYWRkIiwiZm9ybWF0IiwiZmNzdFRpbWUiLCJkYXkxIiwiZGF0ZSIsInRtblZhbHVlIiwidG14VmFsdWUiLCJ0bW5QdHkiLCJ0bW5Ta3kiLCJ0bXhQdHkiLCJ0bXhTa3kiLCJkYXkyIiwid2Vla091dCIsImRheTMiLCJtaW4iLCJ0YU1pbjMiLCJtYXgiLCJ0YU1heDMiLCJybnN0QW0iLCJyblN0M0FtIiwicm5zdFBtIiwicm5TdDNQbSIsIndmQW0iLCJ3ZjNBbSIsIndmUG0iLCJ3ZjNQbSIsImRhdGVOdW0iLCJkYXk0IiwidGFNaW40IiwidGFNYXg0Iiwicm5TdDRBbSIsInJuU3Q0UG0iLCJ3ZjRBbSIsIndmNFBtIiwiZGF5NSIsInRhTWluNSIsInRhTWF4NSIsInJuU3Q1QW0iLCJyblN0NVBtIiwid2Y1QW0iLCJ3ZjVQbSIsImRheTYiLCJ0YU1pbjYiLCJ0YU1heDYiLCJyblN0NkFtIiwicm5TdDZQbSIsIndmNkFtIiwid2Y2UG0iLCJkYXk3IiwidGFNaW43IiwidGFNYXg3Iiwicm5TdDdBbSIsInJuU3Q3UG0iLCJ3ZjdBbSIsIndmN1BtIiwiY29uc29sZSIsInRhYmxlIiwidGhyZWVIb3Vyc1dlYXRoZXIiLCJSMDYiLCJTMDYiLCJQVFkiLCJTS1kiLCJUM0giLCJ0aW1lIiwibWFwIiwicHVzaCIsInZhbHVlIiwib3V0IiwibGl2aW5nSW5mb21hdGlvbiIsImFyZWEiLCJlbmNvZGluZyIsImVuY29kZVVSSUNvbXBvbmVudCIsImxvZyIsImxpc3QiLCJzaWRvTmFtZSIsInBtMTBWYWx1ZSIsInBtMjVWYWx1ZSIsIm8zVmFsdWUiLCJ1diIsInN1YnN0ciIsInV2VmFsdWUiLCJ0b2RheSIsInRvbW9ycm93IiwidGhlRGF5QWZ0ZXJUb21vcnJvdyIsInN1blJpc2VGYWxsIiwib3V0cHV0Iiwic3VucmlzZSIsInN1bnNldCIsIm1vb25yaXNlIiwibW9vbnNldCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOzs7Ozs7OztBQUVPLElBQU1BLGVBQWlDO0FBQUEsK0JBQUcsV0FBT0MsSUFBUCxFQUFnQjtBQUMvRCxRQUFNQyxTQUFTLEdBQUcsMEJBQWxCO0FBQ0EsUUFBTUMsU0FBUyxHQUFHLDBCQUFsQjtBQUYrRCxRQUl2REMsRUFKdUQsR0FJNUNILElBSjRDLENBSXZERyxFQUp1RDtBQUFBLFFBSW5EQyxFQUptRCxHQUk1Q0osSUFKNEMsQ0FJbkRJLEVBSm1EO0FBTS9ELFFBQU1DLGVBQTZELFNBQVNDLGVBQU1DLEdBQU4sMkZBQTZGQyw2QkFBN0YsNERBQW9LTixTQUFwSyx3QkFBMkxELFNBQTNMLGlCQUEyTUUsRUFBRSxHQUFHQSxFQUFILEdBQVEsRUFBck4saUJBQThOQyxFQUFFLEdBQUdBLEVBQUgsR0FBUSxHQUF4TyxHQUErT0ssSUFBL08sQ0FBb1AsVUFBQ0MsR0FBRCxFQUFTO0FBQ3ZVLFVBQU1DLE1BQU0sR0FBR0QsR0FBRyxDQUFDVixJQUFKLENB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QUosQ0FBUztBQUNQN0QsY0FBQUEsSUFBSSxFQUFFNUIsSUFBSSxDQUFDdUIsUUFESjtBQUVQZ0UsY0FBQUEsSUFBSSxFQUFFdkYsSUFBSSxDQUFDMEIsUUFGSjtBQUdQZ0UsY0FBQUEsS0FBSyxFQUFFMUYsSUFBSSxDQUFDYTtBQUhMLGFBQVQ7QUFLRDtBQUNEOztBQUNGLGFBQUssS0FBTDtBQUNFO0FBQ0VzRSxZQUFBQSxHQUFHLENBQUNNLElBQUosQ0FBUztBQUNQN0QsY0FBQUEsSUFBSSxFQUFFNUIsSUFBSSxDQUFDdUIsUUFESjtBQUVQZ0UsY0FBQUEsSUFBSSxFQUFFdkYsSUFBSSxDQUFDMEIsUUFGSjtBQUdQZ0UsY0FBQUEsS0FBSyxFQUFFMUYsSUFBSSxDQUFDYTtBQUhMLGFBQVQ7QUFLRDtBQUNEOztBQUNGLGFBQUssS0FBTDtBQUNFO0FBQ0V1RSxZQUFBQSxHQUFHLENBQUNLLElBQUosQ0FBUztBQUNQN0QsY0FBQUEsSUFBSSxFQUFFNUIsSUFBSSxDQUFDdUIsUUFESjtBQUVQZ0UsY0FBQUEsSUFBSSxFQUFFdkYsSUFBSSxDQUFDMEIsUUFGSjtBQUdQZ0UsY0FBQUEsS0FBSyxFQUFFMUYsSUFBSSxDQUFDYTtBQUhMLGFBQVQ7QUFLRDtBQUNEOztBQUNGLGFBQUssS0FBTDtBQUNFO0FBQ0V3RSxZQUFBQSxHQUFHLENBQUNJLElBQUosQ0FBUztBQUNQN0QsY0FBQUEsSUFBSSxFQUFFNUIsSUFBSSxDQUFDdUIsUUFESjtBQUVQZ0UsY0FBQUEsSUFBSSxFQUFFdkYsSUFBSSxDQUFDMEIsUUFGSjtBQUdQZ0UsY0FBQUEsS0FBSyxFQUFFMUYsSUFBSSxDQUFDYTtBQUhMLGFBQVQ7QUFLRDtBQUNEOztBQUNGLGFBQUssS0FBTDtBQUNFO0FBQ0V5RSxZQUFBQSxHQUFHLENBQUNHLElBQUosQ0FBUztBQUNQN0QsY0FBQUEsSUFBSSxFQUFFNUIsSUFBSSxDQUFDdUIsUUFESjtBQUVQZ0UsY0FBQUEsSUFBSSxFQUFFdkYsSUFBSSxDQUFDMEIsUUFGSjtBQUdQZ0UsY0FBQUEsS0FBSyxFQUFFMUYsSUFB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L0gseUJBQXVKTSw2QkFBdkosR0FBZ0xDLElBQWhMLENBQXFMLFVBQUNDLEdBQUQsRUFBUztBQUM5TSxhQUFPQSxHQUFHLENBQUNWLElBQUosQ0FBU1ksUUFBVCxDQUFrQkMsSUFBbEIsQ0FBdUJDLEtBQXZCLENBQTZCQyxJQUFwQztBQUNELEtBRmlCLENBQWxCO0FBSUEsUUFBTTZHLE1BQTRCLEdBQUcsRUFBckM7QUFDQUEsSUFBQUEsTUFBTSxDQUFDcEIsSUFBUCxDQUFZO0FBQ1ZxQixNQUFBQSxPQUFPLEVBQUVuSCxHQUFHLENBQUNtSCxPQURIO0FBRVZDLE1BQUFBLE1BQU0sRUFBRXBILEdBQUcsQ0FBQ29ILE1BRkY7QUFHVkMsTUFBQUEsUUFBUSxFQUFFckgsR0FBRyxDQUFDc0gsT0FISjtBQUlWQSxNQUFBQSxPQUFPLEVBQUV0SCxHQUFHLENBQUNxSDtBQUpILEtBQVo7QUFPQSxXQUFPSCxNQUFQO0FBQ0QsR0FqQnVCOztBQUFBLGtCQUFYRCxXQUFXO0FBQUE7QUFBQTtBQUFBLEdBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tIFwiYXhpb3NcIjtcbmltcG9ydCB7IHRhYmxlIH0gZnJvbSBcImNvbnNvbGVcIjtcbmltcG9ydCBkYXlqcyBmcm9tIFwiZGF5anNcIjtcbmltcG9ydCB7IEdlb2xvY2F0aW9uUHJvcHMsIGdldExpdmluZ0luZm9ybWF0aW9uUHJvcHMsIGdldFN1blNldFJpc2VQcm9wcywgcmVzdWx0RGFpbHlEYXRhUHJvcHMsIHJlc3VsdERhaWx5VGVtcGVyYXR1cmVQcm9wcywgdGhyZWVIb3VyV2VhdGhlck9wdGlvbiwgdGhyZWVIb3VyV2VhdGhlck91dHB1dCB9IGZyb20gXCJ+L0B0eXBlc1wiO1xuaW1wb3J0IHsgY2FsY0RhdGUsIGNoYW5nRGF0ZUZvcm1UaHJlZUhvdXJzVGltZSwgY2hlY2tXZWVrbHlEYXRlLCBkZWZhdWx0RGF0ZSwgZGVmYXVsdFRpbWUgfSBmcm9tIFwifi9jb21tb25cIjtcbmltcG9ydCB7IEtPUkVBX1dFQVRIRVJfQVBJX0tFWSB9IGZyb20gXCJ+L2NvbW1vbi9zcmMvZ2xvYmFsXCI7XG5cbmV4cG9ydCBjb25zdCBnZXREYWlseVdlYXRoZXI6IEdlb2xvY2F0aW9uUHJvcHMgPSBhc3luYyAoZGF0YSkgPT4ge1xuICBjb25zdCBCQVNFX1RJTUUgPSBkZWZhdWx0VGltZSgpO1xuICBjb25zdCBCQVNFX0RBVEUgPSBkZWZhdWx0RGF0ZSgpO1xuXG4gIGNvbnN0IHsgbngsIG55IH0gPSBkYXRhO1xuXG4gIGNvbnN0IG5vd1RlbXBlcmF0dXJlczogUHJvbWlzZTxBeGlvc1Jlc3BvbnNlPHJlc3VsdERhaWx5RGF0YVByb3BzPj4gPSBhd2FpdCBheGlvcy5nZXQoYGh0dHA6Ly9hcGlzLmRhdGEuZ28ua3IvMTM2MDAwMC9WaWxhZ2VGY3N0SW5mb1NlcnZpY2UvZ2V0VWx0cmFTcnROY3N0P3NlcnZpY2VLZXk9JHtLT1JFQV9XRUFUSEVSX0FQSV9LRVl9Jm51bU9mUm93cz0xMCZwYWdlTm89MSZkYXRhVHlwZT1qc29uJmJhc2VfZGF0ZT0ke0JBU0VfREFURX0mYmFzZV90aW1lPSR7QkFTRV9USU1FfSZueD0ke254ID8gbnggOiA2MH0mbnk9JHtueSA/IG55IDogMTI3fWApLnRoZW4oKHJlcykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHJlcy5kYXRhLnJlc3BvbnNlLmJvZHkuaXRlbXMuaXRlbTtcbiAgICByZXR1cm4gcmVzdWx0LmZpbHRlcigoaXRlbTogcmVzdWx0RGFpbHlEYXRhUHJvcHMpID0+IHtcbiAgICAgIHJldHVybiBpdGVtLmNhdGVnb3J5ID09PSBcIlQxSFwiIHx8IGl0ZW0uY2F0ZWdvcnkgPT09IFwiUkVIXCIgfHwgaXRlbS5jYXRlZ29yeSA9PT0gXCJSTjFcIiB8fCBpdGVtLmNhdGVnb3J5ID09PSBcIlZFQ1wiIHx8IGl0ZW0uY2F0ZWdvcnkgPT09IFwiV1NEXCI7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IG5ld1NreTogUHJvbWlzZTxBeGlvc1Jlc3BvbnNlPHJlc3VsdERhaWx5VGVtcGVyYXR1cmVQcm9wcz4+ID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwOi8vYXBpcy5kYXRhLmdvLmtyLzEzNjAwMDAvVmlsYWdlRmNzdEluZm9TZXJ2aWNlL2dldFVsdHJhU3J0RmNzdD9zZXJ2aWNlS2V5PSR7S09SRUFfV0VBVEhFUl9BUElfS0VZfSZudW1PZlJvd3M9NTAmcGFnZU5vPTEmZGF0YVR5cGU9anNvbiZiYXNlX2RhdGU9JHtCQVNFX0RBVEV9JmJhc2VfdGltZT0ke0JBU0VfVElNRX0mbng9JHtueCA/IG54IDogNjB9Jm55PSR7bnkgPyBueSA6IDEyN31gKS50aGVuKChyZXMpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSByZXMuZGF0YS5yZXNwb25zZS5ib2R5Lml0ZW1zLml0ZW07XG4gICAgcmV0dXJuIHJlc3VsdC5maWx0ZXIoKGl0ZW06IHsgY2F0ZWdvcnk6IHN0cmluZyB9KSA9PiB7XG4gICAgICByZXR1cm4gaXRlbS5jYXRlZ29yeSA9PT0gXCJTS1lcIjtcbiAgICB9KTtcbiAgfSk7XG5cbiAgY29uc3QgbWluTWF4OiBQcm9taXNlPEF4aW9zUmVzcG9uc2U8cmVzdWx0RGFpbHlUZW1wZXJhdHVyZVByb3BzPj4gPSBhd2FpdCBheGlvcy5nZXQoYGh0dHA6Ly9hcGlzLmRhdGEuZ28ua3IvMTM2MDAwMC9WaWxhZ2VGY3N0SW5mb1NlcnZpY2UvZ2V0VmlsYWdlRmNzdD9zZXJ2aWNlS2V5PSR7S09SRUFfV0VBVEhFUl9BUElfS0VZfSZudW1PZlJvd3M9NDAmcGFnZU5vPTEmZGF0YVR5cGU9anNvbiZiYXNlX2RhdGU9JHtCQVNFX0RBVEV9JmJhc2VfdGltZT0wMjAwJm54PSR7bnggPyBueCA6IDYwfSZueT0ke255ID8gbnkgOiAxMjd9YCkudGhlbigocmVzKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gcmVzLmRhdGEucmVzcG9uc2UuYm9keS5pdGVtcy5pdGVtO1xuICAgIHJldHVybiByZXN1bHQuZmlsdGVyKChpdGVtOiByZXN1bHREYWlseVRlbXBlcmF0dXJlUHJvcHMpID0+IHtcbiAgICAgIHJldHVybiBpdGVtLmNhdGVnb3J5ID09PSBcIlRNWFwiIHx8IGl0ZW0uY2F0ZWdvcnkgPT09IFwiVE1OXCI7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IGN1cnJlbnRXZWF0aGVyID0ge1xuICAgIHJlaDogbm93VGVtcGVyYXR1cmVzWzBdLm9ic3JWYWx1ZSxcbiAgICBybjE6IG5vd1RlbXBlcmF0dXJlc1sxXS5vYnNyVmFsdWUsXG4gICAgdDFoOiBub3dUZW1wZXJhdHVyZXNbMl0ub2JzclZhbHVlLFxuICAgIHZlYzogbm93VGVtcGVyYXR1cmVzWzNdLm9ic3JWYWx1ZSxcbiAgICB3c2Q6IG5vd1RlbXBlcmF0dXJlc1s0XS5vYnNyVmFsdWUsXG4gICAgc2t5OiBuZXdTa3lbMF0uZmNzdFZhbHVlLFxuICAgIHRtbjogbWluTWF4WzBdLmZjc3RWYWx1ZSxcbiAgICB0bXg6IG1pbk1heFsxXS5mY3N0VmFsdWUsXG4gIH07XG5cbiAgcmV0dXJuIGN1cnJlbnRXZWF0aGVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE1heE1pblRlbXBlcmF0dXJlOiBHZW9sb2NhdGlvblByb3BzID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgY29uc3QgV0VFS0xZX1JFU19EQVRFID0gY2hlY2tXZWVrbHlEYXRlKCk7XG4gIGNvbnN0IHsgbngsIG55IH0gPSBkYXRhO1xuICBjb25zdCBEQVRFID0gY2FsY0RhdGUoKTtcblxuICBjb25zdCB3ZWVrbHlSZXMgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHA6Ly9hcGlzLmRhdGEuZ28ua3IvMTM2MDAwMC9NaWRGY3N0SW5mb1NlcnZpY2UvZ2V0TWlkVGE/c2VydmljZUtleT0ke0tPUkVBX1dFQVRIRVJfQVBJX0tFWX0mbnVtT2ZSb3dzPTEwJnBhZ2VObz0mZGF0YVR5cGU9anNvbiZyZWdJZD0xMUQyMDUwMSZ0bUZjPSR7V0VFS0xZX1JFU19EQVRFfWApLnRoZW4oKHJlcykgPT4ge1xuICAgIHJldHVybiByZXMuZGF0YS5yZXNwb25zZS5ib2R5Lml0ZW1zLml0ZW1bMF07XG4gIH0pO1xuXG4gIGNvbnN0IHdlZWtseVdlYXRoZXIgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHA6Ly9hcGlzLmRhdGEuZ28ua3IvMTM2MDAwMC9NaWRGY3N0SW5mb1NlcnZpY2UvZ2V0TWlkTGFuZEZjc3Q/c2VydmljZUtleT0ke0tPUkVBX1dFQVRIRVJfQVBJX0tFWX0mbnVtT2ZSb3dzPTEwMCZwYWdlTm89MSZkYXRhVHlwZT1qc29uJnJlZ0lkPTExQjAwMDAwJnRtRmM9JHtXRUVLTFlfUkVTX0RBVEV9YCkudGhlbigocmVzKSA9PiB7XG4gICAgcmV0dXJuIHJlcy5kYXRhLnJlc3BvbnNlLmJvZHkuaXRlbXMuaXRlbVswXTtcbiAgfSk7XG5cbiAgLy8gOOyLnCDsnbTsoITsnbwg65WMIOyghOuCoCAxMeyLnCxcbiAgLy8gOOyLnCDsnbTtm4Tsnbwg65WMIO2YhOyerCAxMeyLnFxcXG5cbiAgY29uc3QgdG9tb3Jyb3dNaW5NYXggPSBhd2FpdCBheGlvcy5nZXQoYGh0dHA6Ly9hcGlzLmRhdGEuZ28ua3IvMTM2MDAwMC9WaWxhZ2VGY3N0SW5mb1NlcnZpY2UvZ2V0VmlsYWdlRmNzdD9zZXJ2aWNlS2V5PSR7S09SRUFfV0VBVEhFUl9BUElfS0VZfSZudW1PZlJvd3M9NTAwJnBhZ2VObz0xJmRhdGFUeXBlPWpzb24mYmFzZV9kYXRlPSR7REFURX0mYmFzZV90aW1lPTA1MDAmbng9JHtueCA/IG54IDogNjB9Jm55PSR7bnkgPyBueSA6IDEyN31gKS50aGVuKChyZXMpID0+IHtcbiAgICBjb25zdCB0ZW1wID0gcmVzLmRhdGEucmVzcG9uc2UuYm9keS5pdGVtcy5pdGVtLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgcmV0dXJuIChpdGVtLmZjc3REYXRlID09PSBkYXlqcyhEQVRFKS5hZGQoMSwgXCJkYXlcIikuZm9ybWF0KFwiWVlZWU1NRERcIikgJiYgKGl0ZW0uY2F0ZWdvcnkgPT09IFwiVE1OXCIgfHwgaXRlbS5jYXRlZ29yeSA9PT0gXCJUTVhcIikpIHx8IChpdGVtLmZjc3REYXRlID09PSBkYXlqcyhEQVRFKS5hZGQoMiwgXCJkYXlcIikuZm9ybWF0KFwiWVlZWU1NRERcIikgJiYgKGl0ZW0uY2F0ZWdvcnkgPT09IFwiVE1OXCIgfHwgaXRlbS5jYXRlZ29yeSA9PT0gXCJUTVhcIikpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdG1uID0gdGVtcFswXS5mY3N0VGltZTtcbiAgICBjb25zdCB0bXggPSB0ZW1wWzFdLmZjc3RUaW1lO1xuXG4gICAgY29uc3Qgc2t5ID0gcmVzLmRhdGEucmVzcG9uc2UuYm9keS5pdGVtcy5pdGVtLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgcmV0dXJuIChpdGVtLmZjc3REYXRlID09PSBkYXlqcyhEQVRFKS5hZGQoMSwgXCJkYXlcIikuZm9ybWF0KFwiWVlZWU1NRERcIikgJiYgKGl0ZW0uY2F0ZWdvcnkgPT09IFwiU0tZXCIgfHwgaXRlbS5jYXRlZ29yeSA9PT0gXCJQVFlcIikgJiYgKGl0ZW0uZmNzdFRpbWUgPT09IHRtbiB8fCBpdGVtLmZjc3RUaW1lID09PSB0bXgpKSB8fCAoaXRlbS5mY3N0RGF0ZSA9PT0gZGF5anMoREFURSkuYWRkKDIsIFwiZGF5XCIpLmZvcm1hdChcIllZWVlNTUREXCIpICYmIChpdGVtLmNhdGVnb3J5ID09PSBcIlNLWVwiIHx8IGl0ZW0uY2F0ZWdvcnkgPT09IFwiUFRZXCIpICYmIChpdGVtLmZjc3RUaW1lID09PSB0bW4gfHwgaXRlbS5mY3N0VGltZSA9PT0gdG14KSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgZGF5MToge1xuICAgICAgICBkYXRlOiB0ZW1wWzBdLmZjc3REYXRlLFxuICAgICAgICB0bW5WYWx1ZTogdGVtcFswXS5mY3N0VmFsdWUsXG4gICAgICAgIHRteFZhbHVlOiB0ZW1wWzFdLmZjc3RWYWx1ZSxcbiAgICAgICAgdG1uUHR5OiBza3lbMF0uZmNzdFZhbHVlLFxuICAgICAgICB0bW5Ta3k6IHNreVsxXS5mY3N0VmFsdWUsXG4gICAgICAgIHRteFB0eTogc2t5WzJdLmZjc3RWYWx1ZSxcbiAgICAgICAgdG14U2t5OiBza3lbM10uZmNzdFZhbHVlLFxuICAgICAgfSxcbiAgICAgIGRheTI6IHtcbiAgICAgICAgZGF0ZTogdGVtcFsyXS5mY3N0RGF0ZSxcbiAgICAgICAgdG1uVmFsdWU6IHRlbXBbMl0uZmNzdFZhbHVlLFxuICAgICAgICB0bXhWYWx1ZTogdGVtcFszXS5mY3N0VmFsdWUsXG4gICAgICAgIHRtblB0eTogc2t5WzRdLmZjc3RWYWx1ZSxcbiAgICAgICAgdG1uU2t5OiBza3lbNV0uZmNzdFZhbHVlLFxuICAgICAgICB0bXhQdHk6IHNreVs2XS5mY3N0VmFsdWUsXG4gICAgICAgIHRteFNreTogc2t5WzddLmZjc3RWYWx1ZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICB0YWJsZShkYXRhKTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfSk7XG5cbiAgY29uc3Qgd2Vla091dCA9IHtcbiAgICBkYXkzOiB7IG1pbjogd2Vla2x5UmVzLnRhTWluMywgbWF4OiB3ZWVrbHlSZXMudGFNYXgzLCBybnN0QW06IHdlZWtseVdlYXRoZXIucm5TdDNBbSwgcm5zdFBtOiB3ZWVrbHlXZWF0aGVyLnJuU3QzUG0sIHdmQW06IHdlZWtseVdlYXRoZXIud2YzQW0sIHdmUG06IHdlZWtseVdlYXRoZXIud2YzUG0sIGRhdGVOdW06IDMgfSxcbiAgICBkYXk0OiB7IG1pbjogd2Vla2x5UmVzLnRhTWluNCwgbWF4OiB3ZWVrbHlSZXMudGFNYXg0LCBybnN0QW06IHdlZWtseVdlYXRoZXIucm5TdDRBbSwgcm5zdFBtOiB3ZWVrbHlXZWF0aGVyLnJuU3Q0UG0sIHdmQW06IHdlZWtseVdlYXRoZXIud2Y0QW0sIHdmUG06IHdlZWtseVdlYXRoZXIud2Y0UG0sIGRhdGVOdW06IDQgfSxcbiAgICBkYXk1OiB7IG1pbjogd2Vla2x5UmVzLnRhTWluNSwgbWF4OiB3ZWVrbHlSZXMudGFNYXg1LCBybnN0QW06IHdlZWtseVdlYXRoZXIucm5TdDVBbSwgcm5zdFBtOiB3ZWVrbHlXZWF0aGVyLnJuU3Q1UG0sIHdmQW06IHdlZWtseVdlYXRoZXIud2Y1QW0sIHdmUG06IHdlZWtseVdlYXRoZXIud2Y1UG0sIGRhdGVOdW06IDUgfSxcbiAgICBkYXk2OiB7IG1pbjogd2Vla2x5UmVzLnRhTWluNiwgbWF4OiB3ZWVrbHlSZXMudGFNYXg2LCBybnN0QW06IHdlZWtseVdlYXRoZXIucm5TdDZBbSwgcm5zdFBtOiB3ZWVrbHlXZWF0aGVyLnJuU3Q2UG0sIHdmQW06IHdlZWtseVdlYXRoZXIud2Y2QW0sIHdmUG06IHdlZWtseVdlYXRoZXIud2Y2UG0sIGRhdGVOdW06IDYgfSxcbiAgICBkYXk3OiB7IG1pbjogd2Vla2x5UmVzLnRhTWluNywgbWF4OiB3ZWVrbHlSZXMudGFNYXg3LCBybnN0QW06IHdlZWtseVdlYXRoZXIucm5TdDdBbSwgcm5zdFBtOiB3ZWVrbHlXZWF0aGVyLnJuU3Q3UG0sIHdmQW06IHdlZWtseVdlYXRoZXIud2Y3QW0sIHdmUG06IHdlZWtseVdlYXRoZXIud2Y3UG0sIGRhdGVOdW06IDcgfSxcbiAgfTtcbiAgY29uc29sZS50YWJsZSh3ZWVrT3V0KTtcblxuICByZXR1cm4geyB0b21vcnJvd01pbk1heCwgd2Vla091dCB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHRocmVlSG91cnNXZWF0aGVyOiBHZW9sb2NhdGlvblByb3BzID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgY29uc3QgeyBueCwgbnkgfSA9IGRhdGE7XG4gIGNvbnN0IEJBU0VfREFURSA9IGRlZmF1bHREYXRlKCk7XG5cbiAgY29uc3QgUjA2OiB0aHJlZUhvdXJXZWF0aGVyT3V0cHV0W10gPSBbXTtcbiAgY29uc3QgUzA2OiB0aHJlZUhvdXJXZWF0aGVyT3V0cHV0W10gPSBbXTtcbiAgY29uc3QgUFRZOiB0aHJlZUhvdXJXZWF0aGVyT3V0cHV0W10gPSBbXTtcbiAgY29uc3QgU0tZOiB0aHJlZUhvdXJXZWF0aGVyT3V0cHV0W10gPSBbXTtcbiAgY29uc3QgVDNIOiB0aHJlZUhvdXJXZWF0aGVyT3V0cHV0W10gPSBbXTtcblxuICBjb25zdCB0aW1lID0gY2hhbmdEYXRlRm9ybVRocmVlSG91cnNUaW1lKCk7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChgaHR0cDovL2FwaXMuZGF0YS5nby5rci8xMzYwMDAwL1ZpbGFnZUZjc3RJbmZvU2VydmljZS9nZXRWaWxhZ2VGY3N0P3NlcnZpY2VLZXk9JHtLT1JFQV9XRUFUSEVSX0FQSV9LRVl9Jm51bU9mUm93cz0xODAmcGFnZU5vPTEmZGF0YVR5cGU9anNvbiZiYXNlX2RhdGU9JHtCQVNFX0RBVEV9JmJhc2VfdGltZT0ke3RpbWV9Jm54PSR7bnggPyBueCA6IDYwfSZueT0ke255ID8gbnkgOiAxMjd9YCkudGhlbigocmVzKSA9PiB7XG4gICAgcmV0dXJuIHJlcy5kYXRhLnJlc3BvbnNlLmJvZHkuaXRlbXMuaXRlbTtcbiAgfSk7XG5cbiAgcmVzLm1hcCgoaXRlbTogdGhyZWVIb3VyV2VhdGhlck9wdGlvbikgPT4ge1xuICAgIHN3aXRjaCAoaXRlbS5jYXRlZ29yeSkge1xuICAgICAgY2FzZSBcIlIwNlwiOlxuICAgICAgICB7XG4gICAgICAgICAgUjA2LnB1c2goe1xuICAgICAgICAgICAgZGF0ZTogaXRlbS5mY3N0RGF0ZSxcbiAgICAgICAgICAgIHRpbWU6IGl0ZW0uZmNzdFRpbWUsXG4gICAgICAgICAgICB2YWx1ZTogaXRlbS5mY3N0VmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIlMwNlwiOlxuICAgICAgICB7XG4gICAgICAgICAgUzA2LnB1c2goe1xuICAgICAgICAgICAgZGF0ZTogaXRlbS5mY3N0RGF0ZSxcbiAgICAgICAgICAgIHRpbWU6IGl0ZW0uZmNzdFRpbWUsXG4gICAgICAgICAgICB2YWx1ZTogaXRlbS5mY3N0VmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIlBUWVwiOlxuICAgICAgICB7XG4gICAgICAgICAgUFRZLnB1c2goe1xuICAgICAgICAgICAgZGF0ZTogaXRlbS5mY3N0RGF0ZSxcbiAgICAgICAgICAgIHRpbWU6IGl0ZW0uZmNzdFRpbWUsXG4gICAgICAgICAgICB2YWx1ZTogaXRlbS5mY3N0VmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIlNLWVwiOlxuICAgICAgICB7XG4gICAgICAgICAgU0tZLnB1c2goe1xuICAgICAgICAgICAgZGF0ZTogaXRlbS5mY3N0RGF0ZSxcbiAgICAgICAgICAgIHRpbWU6IGl0ZW0uZmNzdFRpbWUsXG4gICAgICAgICAgICB2YWx1ZTogaXRlbS5mY3N0VmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcIlQzSFwiOlxuICAgICAgICB7XG4gICAgICAgICAgVDNILnB1c2goe1xuICAgICAgICAgICAgZGF0ZTogaXRlbS5mY3N0RGF0ZSxcbiAgICAgICAgICAgIHRpbWU6IGl0ZW0uZmNzdFRpbWUsXG4gICAgICAgICAgICB2YWx1ZTogaXRlbS5mY3N0VmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3Qgb3V0ID0geyBSMDYsIFBUWSwgU0tZLCBUM0gsIFMwNiB9O1xuXG4gIHJldHVybiBvdXQ7XG59O1xuXG5leHBvcnQgY29uc3QgbGl2aW5nSW5mb21hdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgQkFTRV9EQVRFID0gZGVmYXVsdERhdGUoKTtcbiAgY29uc3QgQkFTRV9USU1FID0gZGVmYXVsdFRpbWUoKTtcbiAgY29uc3QgYXJlYSA9IFwi7ISc7Jq4XCI7XG4gIGNvbnN0IGVuY29kaW5nID0gZW5jb2RlVVJJQ29tcG9uZW50KGFyZWEpO1xuICAvLyBjb25zdCByZXF1ZXN0RGF0ZSA9IGNoYW5nRGF0ZUZvcm1NaW5pRHVzdCgpO1xuICBjb25zdCBvdXQ6IGdldExpdmluZ0luZm9ybWF0aW9uUHJvcHNbXSA9IFtdO1xuXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChgaHR0cDovL2FwaXMuZGF0YS5nby5rci9CNTUyNTg0L0FycGx0bkluZm9ySW5xaXJlU3ZjL2dldEN0cHJ2blJsdG1NZXN1cmVEbnN0eT9zaWRvTmFtZT0ke2VuY29kaW5nfSZwYWdlTm89MSZudW1PZlJvd3M9MjAwJnJldHVyblR5cGU9anNvbiZzZXJ2aWNlS2V5PSR7S09SRUFfV0VBVEhFUl9BUElfS0VZfSZ2ZXI9MS4zYCkudGhlbigocmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2cocmVzKTtcbiAgICByZXR1cm4gcmVzLmRhdGEucmVzcG9uc2UuYm9keS5pdGVtcztcbiAgfSk7XG4gIHJlcy5tYXAoKGxpc3Q6IGdldExpdmluZ0luZm9ybWF0aW9uUHJvcHMpID0+IHtcbiAgICBvdXQucHVzaCh7XG4gICAgICBzaWRvTmFtZTogbGlzdC5zaWRvTmFtZSxcbiAgICAgIHBtMTBWYWx1ZTogbGlzdC5wbTEwVmFsdWUsXG4gICAgICBwbTI1VmFsdWU6IGxpc3QucG0yNVZhbHVlLFxuICAgICAgbzNWYWx1ZTogbGlzdC5vM1ZhbHVlLFxuICAgIH0pO1xuICB9KTtcblxuICAvLyBjb25zdCBtaW5pZHVzdCA9IGF3YWl0IGF4aW9zLmdldChgaHR0cDovL2FwaXMuZGF0YS5nby5rci9CNTUyNTg0L0FycGx0bkluZm9ySW5xaXJlU3ZjL2dldE1pbnVEdXN0V2Vla0ZyY3N0RHNwdGg/c2VhcmNoRGF0ZT0ke3JlcXVlc3REYXRlfSZyZXR1cm5UeXBlPWpzb24mc2VydmljZUtleT0ke0FQSUtFWX0mbnVtT2ZSb3dzPTUwJnBhZ2VObz0xYCkudGhlbigocmVzKSA9PiB7XG4gIC8vICAgcmV0dXJuIHJlcy5kYXRhLnJlc3BvbnNlLmJvZHkuaXRlbXM7XG4gIC8vIH0pO1xuICAvLyBjb25zdCBtaW5pbXVtRHVzdCA9IGZvcm1EYXRhTWluaUR1c3QobWluaWR1c3QpO1xuXG4gIGNvbnN0IHV2ID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwOi8vYXBpcy5kYXRhLmdvLmtyLzEzNjAwMDAvTGl2aW5nV3RocklkeFNlcnZpY2UwMS9nZXRVVklkeD9zZXJ2aWNlS2V5PSR7S09SRUFfV0VBVEhFUl9BUElfS0VZfSZkYXRhVHlwZT1qc29uJmFyZWFObz0xMTAwMDAwMDAwJnRpbWU9JHtCQVNFX0RBVEV9JHtCQVNFX1RJTUUuc3Vic3RyKDAsIDIpfWApLnRoZW4oKHJlcykgPT4ge1xuICAgIHJldHVybiByZXMuZGF0YS5yZXNwb25zZS5ib2R5Lml0ZW1zLml0ZW1bMF07XG4gIH0pO1xuXG4gIGNvbnN0IHV2VmFsdWUgPSB7XG4gICAgZGF0ZTogdXYuZGF0ZSxcbiAgICB0b2RheTogdXYudG9kYXksXG4gICAgdG9tb3Jyb3c6IHV2LnRvbW9ycm93LFxuICAgIHRoZURheUFmdGVyVG9tb3Jyb3c6IHV2LnRoZURheUFmdGVyVG9tb3Jyb3csXG4gIH07XG5cbiAgcmV0dXJuIHsgb3V0LCB1dlZhbHVlIH07XG59O1xuXG5leHBvcnQgY29uc3Qgc3VuUmlzZUZhbGwgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IEJBU0VfREFURSA9IGRlZmF1bHREYXRlKCk7XG4gIGNvbnN0IGFyZWEgPSBcIuyEnOyauFwiO1xuICBjb25zdCBlbmNvZGluZyA9IGVuY29kZVVSSUNvbXBvbmVudChhcmVhKTtcbiAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwOi8vYXBpcy5kYXRhLmdvLmtyL0IwOTAwNDEvb3BlbmFwaS9zZXJ2aWNlL1Jpc2VTZXRJbmZvU2VydmljZS9nZXRBcmVhUmlzZVNldEluZm8/bG9jYXRpb249JHtlbmNvZGluZ30mbG9jZGF0ZT0ke0JBU0VfREFURX0mU2VydmljZUtleT0ke0tPUkVBX1dFQVRIRVJfQVBJX0tFWX1gKS50aGVuKChyZXMpID0+IHtcbiAgICByZXR1cm4gcmVzLmRhdGEucmVzcG9uc2UuYm9keS5pdGVtcy5pdGVtO1xuICB9KTtcblxuICBjb25zdCBvdXRwdXQ6IGdldFN1blNldFJpc2VQcm9wc1tdID0gW107XG4gIG91dHB1dC5wdXNoKHtcbiAgICBzdW5yaXNlOiByZXMuc3VucmlzZSxcbiAgICBzdW5zZXQ6IHJlcy5zdW5zZXQsXG4gICAgbW9vbnJpc2U6IHJlcy5tb29uc2V0LFxuICAgIG1vb25zZXQ6IHJlcy5tb29ucmlzZSxcbiAgfSk7XG5cbiAgcmV0dXJuIG91dHB1dDtcbn07XG4iXX0=