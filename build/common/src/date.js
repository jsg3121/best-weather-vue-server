"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getAtmosDate = exports.changDateFormThreeHoursTime = exports.getWeeklyDateAfter3 = exports.getWeeklyTime = exports.getWeeklyDate = exports.getCurrentDate = exports.getCurrentTime = void 0;

var _dayjs = _interopRequireDefault(require("dayjs"));

var _timezone = _interopRequireDefault(require("dayjs/plugin/timezone"));

var _utc = _interopRequireDefault(require("dayjs/plugin/utc"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_dayjs.default.extend(_utc.default);

_dayjs.default.extend(_timezone.default);
/**
 * ! 현재 날씨 상태 정보 시간 요청
 *
 * * 30분 이전일 때 전 시간 return
 *
 * @format "HHmm"
 * @return {string}
 */


var getCurrentTime = function getCurrentTime() {
  var TODAY = (0, _dayjs.default)(new Date()).tz("Asia/Seoul");

  if (TODAY.minute() <= 30) {
    return TODAY.subtract(1, "hour").format("HHmm");
  }

  return TODAY.format("HHmm");
};
/**
 * ! 현재 날씨 상태 정보 날짜 요청
 *
 * * 30분 이전일 때 요청 시간이 00시면 전날 23시로 return
 *
 * @format "YYYYMMDD"
 * @return {string}
 */


exports.getCurrentTime = getCurrentTime;

var getCurrentDate = function getCurrentDate() {
  var TODAY = (0, _dayjs.default)(new Date()).tz("Asia/Seoul");

  if (TODAY.minute() <= 30 && TODAY.hour() === 0) {
    return TODAY.subtract(1, "date").format("YYYYMMDD");
  }

  return TODAY.format("YYYYMMDD");
};
/**
 * ! 내일, 모레 최저, 최고기온 정보를 위한 날짜 요청
 * @format "YYYYMMDD"
 * @returns {string}
 */


exports.getCurrentDate = getCurrentDate;

var getWeeklyDate = function getWeeklyDate() {
  var TODAY = (0, _dayjs.default)(new Date()).tz("Asia/Seoul");

  if (parseInt(TODAY.format("HH"), 10) < 5) {
    return TODAY.subtract(1, "day").format("YYYYMMDD");
  } else {
    return TODAY.format("YYYYMMDD");
  }
};
/**
 * ! 내일 모레 최저, 최고기온 정보를 위한 시간
 * @format "HHmm"
 * @returns {string}
 */


exports.getWeeklyDate = getWeeklyDate;

var getWeeklyTime = function getWeeklyTime() {
  var TODAY = (0, _dayjs.default)(new Date()).tz("Asia/Seoul");
  var arr = [2, 5, 8, 11, 14, 17, 20, 23];
  var result = "";

  for (var i = 0; i < arr.length; i++) {
    var time = parseInt(TODAY.format("HH"), 10);

    if (time < 2) {
      result = "2300";
    } else {
      if (time > arr[i]) {
        String(arr[i]).length === 1 ? result = "0".concat(arr[i], "00") : result = "".concat(arr[i], "00");
      }
    }
  }

  return result;
};
/**
 * ! 3일 후 부터 날씨 정보 요청 시간
 * @format "YYYYMMDDHHmm"
 * @returns {string}
 */


exports.getWeeklyTime = getWeeklyTime;

var getWeeklyDateAfter3 = function getWeeklyDateAfter3() {
  var TODAY = (0, _dayjs.default)(new Date()).tz("Asia/Seoul");
  var date = TODAY.format("YYYYMMDD");
  var time = parseInt(TODAY.format("HH"), 10);
  return time >= 6 && time <= 17 ? "".concat(date, "0600") : "".concat(date, "1800");
};
/**
 * ! 3시간 단위 기온 정보
 * @format "HHmm"
 * @returns {string}
 */


exports.getWeeklyDateAfter3 = getWeeklyDateAfter3;

var changDateFormThreeHoursTime = function changDateFormThreeHoursTime() {
  var TODAY = (0, _dayjs.default)(new Date()).tz("Asia/Seoul");
  var hours = parseInt(TODAY.subtract(3, "hours").format("HH"), 10);

  if (hours % 3 === 2) {
    var res = TODAY.format(3 * Math.floor(hours / 3) + 2 > 10 ? "".concat(3 * Math.floor(hours / 3) + 2, "00") : "0".concat(3 * Math.floor(hours / 3) + 2, "00"));
    return res.toString();
  } else {
    var _res = TODAY.format(3 * Math.floor(hours / 3) - 1 > 10 ? "".concat(3 * Math.floor(hours / 3) - 1, "00") : "0".concat(3 * Math.floor(hours / 3) - 1, "00"));

    return _res.toString();
  }
};
/**
 * ! 대기환경(오존) 상태
 * @returns
 */


exports.changDateFormThreeHoursTime = changDateFormThreeHoursTime;

var getAtmosDate = function getAtmosDate() {
  var TODAY = (0, _dayjs.default)(new Date()).tz("Asia/Seoul").format("YYYYMMDD06");
  return TODAY;
};

exports.getAtmosDate = getAtmosDate;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vc3JjL2RhdGUudHMiXSwibmFtZXMiOlsiZGF5anMiLCJleHRlbmQiLCJ1dGMiLCJ0aW1lem9uZSIsImdldEN1cnJlbnRUaW1lIiwiVE9EQVkiLCJEYXRlIiwidHoiLCJtaW51dGUiLCJzdWJ0cmFjdCIsImZvcm1hdCIsImdldEN1cnJlbnREYXRlIiwiaG91ciIsImdldFdlZWtseURhdGUiLCJwYXJzZUludCIsImdldFdlZWtseVRpbWUiLCJhcnIiLCJyZXN1bHQiLCJpIiwibGVuZ3RoIiwidGltZSIsIlN0cmluZyIsImdldFdlZWtseURhdGVBZnRlcjMiLCJkYXRlIiwiY2hhbmdEYXRlRm9ybVRocmVlSG91cnNUaW1lIiwiaG91cnMiLCJyZXMiLCJNYXRoIiwiZmxvb3IiLCJ0b1N0cmluZyIsImdldEF0bW9zRGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUFBLGVBQU1DLE1BQU4sQ0FBYUMsWUFBYjs7QUFDQUYsZUFBTUMsTUFBTixDQUFhRSxpQkFBYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNPLElBQU1DLGNBQWMsR0FBRyxTQUFqQkEsY0FBaUIsR0FBYztBQUMxQyxNQUFNQyxLQUFLLEdBQUcsb0JBQU0sSUFBSUMsSUFBSixFQUFOLEVBQWtCQyxFQUFsQixDQUFxQixZQUFyQixDQUFkOztBQUNBLE1BQUlGLEtBQUssQ0FBQ0csTUFBTixNQUFrQixFQUF0QixFQUEwQjtBQUN4QixXQUFPSCxLQUFLLENBQUNJLFFBQU4sQ0FBZSxDQUFmLEVBQWtCLE1BQWxCLEVBQTBCQyxNQUExQixDQUFpQyxNQUFqQyxDQUFQO0FBQ0Q7O0FBQ0QsU0FBT0wsS0FBSyxDQUFDSyxNQUFOLENBQWEsTUFBYixDQUFQO0FBQ0QsQ0FOTTtBQVFQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBQ08sSUFBTUMsY0FBYyxHQUFHLFNBQWpC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QUosR0FBNEIsQ0FGcEMsT0FEVSxDQUFaOztBQUtBLFdBQU9DLElBQUcsQ0FBQ0csUUFBSixFQUFQO0FBQ0Q7QUFDRixDQWxCTTtBQW9CUDtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFDTyxJQUFNQyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxHQUFjO0FBQ3hDLE1BQU16QixLQUFLLEdBQUcsb0JBQU0sSUFBSUMsSUFBSixFQUFOLEVBQWtCQyxFQUFsQixDQUFxQixZQUFyQixFQUFtQ0csTUFBbkMsQ0FBMEMsWUFBMUMsQ0FBZDtBQUVBLFNBQU9MLEtBQVA7QUFDRCxDQUpNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRheWpzIGZyb20gXCJkYXlqc1wiO1xuaW1wb3J0IHRpbWV6b25lIGZyb20gXCJkYXlqcy9wbHVnaW4vdGltZXpvbmVcIjtcbmltcG9ydCB1dGMgZnJvbSBcImRheWpzL3BsdWdpbi91dGNcIjtcblxuZGF5anMuZXh0ZW5kKHV0Yyk7XG5kYXlqcy5leHRlbmQodGltZXpvbmUpO1xuLyoqXG4gKiAhIO2YhOyerCDrgqDslKgg7IOB7YOcIOygleuztCDsi5zqsIQg7JqU7LKtXG4gKlxuICogKiAzMOu2hCDsnbTsoITsnbwg65WMIOyghCDsi5zqsIQgcmV0dXJuXG4gKlxuICogQGZvcm1hdCBcIkhIbW1cIlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFRpbWUgPSAoKTogc3RyaW5nID0+IHtcbiAgY29uc3QgVE9EQVkgPSBkYXlqcyhuZXcgRGF0ZSgpKS50eihcIkFzaWEvU2VvdWxcIik7XG4gIGlmIChUT0RBWS5taW51dGUoKSA8PSAzMCkge1xuICAgIHJldHVybiBUT0RBWS5zdWJ0cmFjdCgxLCBcImhvdXJcIikuZm9ybWF0KFwiSEhtbVwiKTtcbiAgfVxuICByZXR1cm4gVE9EQVkuZm9ybWF0KFwiSEhtbVwiKTtcbn07XG5cbi8qKlxuICogISDtmITsnqwg64Kg7JSoIOyDge2DnCDsoJXrs7Qg64Kg7KecIOyalOyyrVxuICpcbiAqICogMzDrtoQg7J207KCE7J28IOuVjCDsmpTssq0g7Iuc6rCE7J20IDAw7Iuc66m0IOyghOuCoCAyM+yLnOuhnCByZXR1cm5cbiAqXG4gKiBAZm9ybWF0IFwiWVlZWU1NRERcIlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudERhdGUgPSAoKTogc3RyaW5nID0+IHtcbiAgY29uc3QgVE9EQVkgPSBkYXlqcyhuZXcgRGF0ZSgpKS50eihcIkFzaWEvU2VvdWxcIik7XG4gIGlmIChUT0RBWS5taW51dGUoKSA8PSAzMCAmJiBUT0RBWS5ob3VyKCkgPT09IDApIHtcbiAgICByZXR1cm4gVE9EQVkuc3VidHJhY3QoMSwgXCJkYXRlXCIpLmZvcm1hdChcIllZWVlNTUREXCIpO1xuICB9XG4gIHJldHVybiBUT0RBWS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcbn07XG5cbi8qKlxuICogISDrgrTsnbwsIOuqqOugiCDstZzsoIAsIOy1nOqzoOq4sOyYqCDsoJXrs7Trpbwg7JyE7ZWcIOuCoOynnCDsmpTssq1cbiAqIEBmb3JtYXQgXCJZWVlZTU1ERFwiXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgZ2V0V2Vla2x5RGF0ZSA9ICgpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBUT0RBWSA9IGRheWpzKG5ldyBEYXRlKCkpLnR6KFwiQXNpYS9TZW91bFwiKTtcbiAgaWYgKHBhcnNlSW50KFRPREFZLmZvcm1hdChcIkhIXCIpLCAxMCkgPCA1KSB7XG4gICAgcmV0dXJuIFRPREFZLnN1YnRyYWN0KDEsIFwiZGF5XCIpLmZvcm1hdChcIllZWVlNTUREXCIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBUT0RBWS5mb3JtYXQoXCJZWVlZTU1ERFwiKTtcbiAgfVxufTtcblxuLyoqXG4gKiAhIOuCtOydvCDrqqjroIgg7LWc7KCALCDstZzqs6DquLDsmKgg7KCV67O066W8IOychO2VnCDsi5zqsIRcbiAqIEBmb3JtYXQgXCJISG1tXCJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRXZWVrbHlUaW1lID0gKCk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IFRPREFZID0gZGF5anMobmV3IERhdGUoKSkudHooXCJBc2lhL1Nlb3VsXCIpO1xuICBjb25zdCBhcnIgPSBbMiwgNSwgOCwgMTEsIDE0LCAxNywgMjAsIDIzXTtcbiAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdGltZSA9IHBhcnNlSW50KFRPREFZLmZvcm1hdChcIkhIXCIpLCAxMCk7XG4gICAgaWYgKHRpbWUgPCAyKSB7XG4gICAgICByZXN1bHQgPSBcIjIzMDBcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRpbWUgPiBhcnJbaV0pIHtcbiAgICAgICAgU3RyaW5nKGFycltpXSkubGVuZ3RoID09PSAxID8gKHJlc3VsdCA9IGAwJHthcnJbaV19MDBgKSA6IChyZXN1bHQgPSBgJHthcnJbaV19MDBgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogISAz7J28IO2bhCDrtoDthLAg64Kg7JSoIOygleuztCDsmpTssq0g7Iuc6rCEXG4gKiBAZm9ybWF0IFwiWVlZWU1NRERISG1tXCJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRXZWVrbHlEYXRlQWZ0ZXIzID0gKCkgPT4ge1xuICBjb25zdCBUT0RBWSA9IGRheWpzKG5ldyBEYXRlKCkpLnR6KFwiQXNpYS9TZW91bFwiKTtcbiAgY29uc3QgZGF0ZSA9IFRPREFZLmZvcm1hdChcIllZWVlNTUREXCIpO1xuXG4gIGNvbnN0IHRpbWUgPSBwYXJzZUludChUT0RBWS5mb3JtYXQoXCJISFwiKSwgMTApO1xuICByZXR1cm4gdGltZSA+PSA2ICYmIHRpbWUgPD0gMTcgPyBgJHtkYXRlfTA2MDBgIDogYCR7ZGF0ZX0xODAwYDtcbn07XG5cbi8qKlxuICogISAz7Iuc6rCEIOuLqOychCDquLDsmKgg7KCV67O0XG4gKiBAZm9ybWF0IFwiSEhtbVwiXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgY2hhbmdEYXRlRm9ybVRocmVlSG91cnNUaW1lID0gKCk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IFRPREFZID0gZGF5anMobmV3IERhdGUoKSkudHooXCJBc2lhL1Nlb3VsXCIpO1xuICBjb25zdCBob3VycyA9IHBhcnNlSW50KFRPREFZLnN1YnRyYWN0KDMsIFwiaG91cnNcIikuZm9ybWF0KFwiSEhcIiksIDEwKTtcbiAgaWYgKGhvdXJzICUgMyA9PT0gMikge1xuICAgIGNvbnN0IHJlcyA9IFRPREFZLmZvcm1hdChcbiAgICAgIDMgKiBNYXRoLmZsb29yKGhvdXJzIC8gMykgKyAyID4gMTBcbiAgICAgICAgPyBgJHszICogTWF0aC5mbG9vcihob3VycyAvIDMpICsgMn0wMGBcbiAgICAgICAgOiBgMCR7MyAqIE1hdGguZmxvb3IoaG91cnMgLyAzKSArIDJ9MDBgXG4gICAgKTtcbiAgICByZXR1cm4gcmVzLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcmVzID0gVE9EQVkuZm9ybWF0KFxuICAgICAgMyAqIE1hdGguZmxvb3IoaG91cnMgLyAzKSAtIDEgPiAxMFxuICAgICAgICA/IGAkezMgKiBNYXRoLmZsb29yKGhvdXJzIC8gMykgLSAxfTAwYFxuICAgICAgICA6IGAwJHszICogTWF0aC5mbG9vcihob3VycyAvIDMpIC0gMX0wMGBcbiAgICApO1xuICAgIHJldHVybiByZXMudG9TdHJpbmcoKTtcbiAgfVxufTtcblxuLyoqXG4gKiAhIOuMgOq4sO2ZmOqyvSjsmKTsobQpIOyDge2DnFxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEF0bW9zRGF0ZSA9ICgpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBUT0RBWSA9IGRheWpzKG5ldyBEYXRlKCkpLnR6KFwiQXNpYS9TZW91bFwiKS5mb3JtYXQoXCJZWVlZTU1ERDA2XCIpO1xuXG4gIHJldHVybiBUT0RBWTtcbn07XG4iXX0=